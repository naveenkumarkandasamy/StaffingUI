<div style="position: relative
;width:96vw;margin:2vh;">
    <form (ngSubmit)="onSubmit()" #heroForm="ngForm" ngNativeValidate>
        <mat-grid-list cols="2" rowHeight="5vh" style="width: 50vw;">
            <mat-grid-tile class="script-menu"> <label class="col-sm">Enter comma seperted shift preferences</label>
            </mat-grid-tile>
            <mat-grid-tile class="script-menu"> <input class="col-sm" required type="text" [(ngModel)]="shiftLength"
                    placeholder="12, 8, 10, 4" name="shiftLength" #name="ngModel" pattern="^[1-9][0-9]?(,[1-9][0-9]?)*$"
                    required></mat-grid-tile>
            <mat-grid-tile class="script-menu"> <label class="col-sm">Enter lower limit for utilization</label>
            </mat-grid-tile>
            <mat-grid-tile class="script-menu"><input class="col-sm" type="number" [(ngModel)]="upperUtilization"
                    name="upperUtilization" min="0.5" max="1.1" placeholder="0.85" step="0.05" required />
            </mat-grid-tile>
            <mat-grid-tile class="script-menu"> <label class="col-sm">Enter upper limit for utilization</label>
            </mat-grid-tile>
            <mat-grid-tile class="script-menu"> <input class="col-sm" type="number" [(ngModel)]="utilization"
                    placeholder="1.10" name="utilzation" step="0.05" min="0.8" max="1.5" required></mat-grid-tile>
            <mat-grid-tile class="script-menu"> <label class="col-sm">Enter Restriction start time</label>
            </mat-grid-tile>
            <mat-grid-tile class="script-menu"><input class="col-sm" type="number" [(ngModel)]="notAllocatedStartTime"
                    placeholder="1" step="1" min="0" max="23" required name="notAllocatedStartTime" /></mat-grid-tile>
            <mat-grid-tile class="script-menu"> <label class="col-sm">Enter Restriction End time </label>
            </mat-grid-tile>
            <mat-grid-tile class="script-menu"><input class="col-sm" type="number" [(ngModel)]="notAllocatedEndTime"
                    placeholder="6" step="1" min="0" max="23" required name="notAllocatedEndTime" /></mat-grid-tile>
            <mat-grid-tile class="script-menu"> <label class="col-sm">Enter Number of patientHourWait</label>
            </mat-grid-tile>
            <mat-grid-tile class="script-menu"><input class="col-sm" type="number" [(ngModel)]="patientHourWait"
                    step="1" min="1" max="167" required placeholder="2" name="patientHourWait" /></mat-grid-tile>
        </mat-grid-list>

        <br />

        <label class="col-sm">Clinician Relationship</label>

        <select [disabled]="firstDropDown" (change)="afterSelectedPriorClinician($event.target)">
            <option value="" hidden>Select</option>
            <option *ngFor="let a of clinicianData">{{a}}</option>
        </select>

        <form *ngIf="selected" [formGroup]="expressionFormGroup">

            <div formArrayName="expressionForm"
                *ngFor="let itr of expressionFormGroup.controls.expressionForm?.value; let i = index; trackBy:trackByForm">
                <div [formGroupName]="i">

                    <select formControlName="cliniciansDropDown">
                        <option value="" hidden>Select</option>
                        <option *ngFor="let a of clinicianRemaining[i]">{{a}}</option>
                    </select>
                    <input type="number" placeholder="1" step="1" min="0" max="100" formControlName="numberOfClinician">
                    <select formControlName="operatorChosen">
                        <option value="" hidden>Select</option>
                        <option *ngFor="let a of operator ; let i = index">{{a}}</option>
                    </select>
                    <select formControlName="selectedClinicianDropDown">
                        <option value="" hidden>Select</option>
                        <option *ngFor="let a of alreadySelectedClinician[i] ; let i = index">{{a}}</option>
                    </select>

                    <button type="submit" [disabled]="isRead[i]" (click)="readingData(i)">OK</button>
                    <button type="button" [disabled]="isRequiredToAddExpForm[i]" *ngIf="addMoreRequired[i]"
                        (click)="addingExpressionForm(i)">ADD</button>
                    <button type="button" [disabled]="isRequiredToAddExpForm[i]" *ngIf="addMoreRequired[i]"
                        (click)="notAddingExpressionForm(i)">No</button>


                </div>
            </div>
        </form>


        <br />
        <div style="height:30vh; position: relative;  ">
            <label>Clinician Summary</label>

            <ag-grid-angular domLayout='autoHeight' style="width: 44.1vw; height: 20vh;" class="ag-theme-balham"
                [rowData]="model" [columnDefs]="columnDefs" [defaultColDef]="defaultColDef">
            </ag-grid-angular>

            <div style="width: 30vh;">
                <label>Arrival Data format</label>
                <select class="form-control mt-2" id="inputType" name="inputFormat" #t (change)="formatChanged(t.value)"
                    required>

                    <option [value]="type" *ngFor="let type of inputTypes"> {{ type }} </option>
                </select>
            </div>
            <div *ngIf="inputFormat == 'Provide Online'">
                <label>Hourly Data</label>
                <ag-grid-angular domLayout='autoHeight' class="ag-theme-balham" [rowData]="data"
                    [columnDefs]="transposedColumnDef" [defaultColDef]="defaultColDef">
                </ag-grid-angular>
            </div>
            <div *ngIf="inputFormat == 'File Upload'">
                <label for="file">Choose File</label>
                <input type="file" id="file" #fileInput (change)="handleFileInput($event.target.files)" required>
            </div>
            <button type="submit" class="btn btn-success" style="margin-top: 1vh;">Submit</button>


        </div>
    </form>
</div>